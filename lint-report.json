[{"filePath":"c:\\projects\\ExpenditureNative\\DashboardScreens\\Dashboard.js","messages":[{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":1,"column":73,"nodeType":"Literal","messageId":"wrongQuotes","endLine":1,"endColumn":80,"fix":{"range":[72,79],"text":"'react'"}},{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":2,"column":87,"nodeType":"Literal","messageId":"wrongQuotes","endLine":2,"endColumn":101,"fix":{"range":[167,181],"text":"'react-native'"}},{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":3,"column":47,"nodeType":"Literal","messageId":"wrongQuotes","endLine":3,"endColumn":73,"fix":{"range":[229,255],"text":"'@react-navigation/native'"}},{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":8,"column":27,"nodeType":"Literal","messageId":"wrongQuotes","endLine":8,"endColumn":45,"fix":{"range":[500,518],"text":"'../LoaderSpinner'"}},{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":10,"column":24,"nodeType":"Literal","messageId":"wrongQuotes","endLine":10,"endColumn":50,"fix":{"range":[602,628],"text":"'../components/ThemedView'"}},{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":11,"column":24,"nodeType":"Literal","messageId":"wrongQuotes","endLine":11,"endColumn":50,"fix":{"range":[653,679],"text":"'../components/ThemedText'"}},{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":12,"column":78,"nodeType":"Literal","messageId":"wrongQuotes","endLine":12,"endColumn":102,"fix":{"range":[758,782],"text":"'../services/apiService'"}},{"ruleId":"curly","severity":1,"message":"Expected { after 'if' condition.","line":16,"column":40,"nodeType":"IfStatement","messageId":"missingCurlyAfterCondition","endLine":16,"endColumn":51,"fix":{"range":[904,915],"text":"{return hex;}"}},{"ruleId":"curly","severity":1,"message":"Expected { after 'if' condition.","line":18,"column":36,"nodeType":"IfStatement","messageId":"missingCurlyAfterCondition","endLine":18,"endColumn":54,"fix":{"range":[984,1002],"text":"{return normalized;}"}},{"ruleId":"curly","severity":1,"message":"Expected { after 'if' condition.","line":19,"column":32,"nodeType":"IfStatement","messageId":"missingCurlyAfterCondition","endLine":19,"endColumn":50,"fix":{"range":[1034,1052],"text":"{return normalized;}"}},{"ruleId":"curly","severity":1,"message":"Expected { after 'if' condition.","line":20,"column":32,"nodeType":"IfStatement","messageId":"missingCurlyAfterCondition","endLine":20,"endColumn":50,"fix":{"range":[1084,1102],"text":"{return normalized;}"}},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'opacityAnim' and 'translateY'. Either include them or remove the dependency array.","line":70,"column":6,"nodeType":"ArrayExpression","endLine":70,"endColumn":24,"suggestions":[{"desc":"Update the dependencies array to be: [delay, opacityAnim, scaleAnim, translateY]","fix":{"range":[2533,2551],"text":"[delay, opacityAnim, scaleAnim, translateY]"}}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":82,"column":70,"nodeType":"ObjectExpression","endLine":82,"endColumn":81},{"ruleId":"no-shadow","severity":1,"message":"'taxAmount' is already declared in the upper scope on line 136 column 10.","line":164,"column":13,"nodeType":"Identifier","messageId":"noShadow","endLine":164,"endColumn":22},{"ruleId":"comma-dangle","severity":1,"message":"Missing trailing comma.","line":180,"column":36,"nodeType":"CallExpression","messageId":"missing","endLine":181,"endColumn":1,"fix":{"range":[6320,6333],"text":"),\n          ]"}},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook React.useCallback has missing dependencies: 'fetchSavingsData', 'getExpenses', and 'getIncome'. Either include them or remove the dependency array.","line":215,"column":8,"nodeType":"ArrayExpression","endLine":215,"endColumn":47,"suggestions":[{"desc":"Update the dependencies array to be: [getExpenses, getIncome, fetchSavingsData, Month, Year, setInitialDataLoaded]","fix":{"range":[7379,7418],"text":"[getExpenses, getIncome, fetchSavingsData, Month, Year, setInitialDataLoaded]"}}]},{"ruleId":"semi","severity":1,"message":"Missing semicolon.","line":224,"column":25,"nodeType":"ExpressionStatement","messageId":"missingSemi","endLine":225,"endColumn":1,"fix":{"range":[7614,7614],"text":";"}},{"ruleId":"quotes","severity":1,"message":"Strings must use singlequote.","line":226,"column":21,"nodeType":"Literal","messageId":"wrongQuotes","endLine":226,"endColumn":36,"fix":{"range":[7705,7720],"text":"'monthwisedata'"}},{"ruleId":"semi","severity":1,"message":"Missing semicolon.","line":229,"column":4,"nodeType":"VariableDeclaration","messageId":"missingSemi","endLine":230,"endColumn":1,"fix":{"range":[7790,7790],"text":";"}},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"The 'handlePressExpence' function makes the dependencies of useMemo Hook (at line 417) change on every render. Move it inside the useMemo callback. Alternatively, wrap the definition of 'handlePressExpence' in its own useCallback() Hook.","line":257,"column":9,"nodeType":"VariableDeclarator","endLine":259,"endColumn":4},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"The 'handlePressIncome' function makes the dependencies of useMemo Hook (at line 417) change on every render. Move it inside the useMemo callback. Alternatively, wrap the definition of 'handlePressIncome' in its own useCallback() Hook.","line":261,"column":9,"nodeType":"VariableDeclarator","endLine":263,"endColumn":4},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"The 'handlePressSavings' function makes the dependencies of useMemo Hook (at line 417) change on every render. Move it inside the useMemo callback. Alternatively, wrap the definition of 'handlePressSavings' in its own useCallback() Hook.","line":269,"column":9,"nodeType":"VariableDeclarator","endLine":271,"endColumn":4},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: \"isDark ? '#1a1a1a' : '#f8f9fa'\" }","line":515,"column":46,"nodeType":"ObjectExpression","endLine":515,"endColumn":97},{"ruleId":"curly","severity":1,"message":"Expected { after 'if' condition.","line":543,"column":33,"nodeType":"IfStatement","messageId":"missingCurlyAfterCondition","endLine":543,"endColumn":52,"fix":{"range":[18837,18856],"text":"{setOpenYear(false);}"}},{"ruleId":"curly","severity":1,"message":"Expected { after 'if' condition.","line":551,"column":33,"nodeType":"IfStatement","messageId":"missingCurlyAfterCondition","endLine":551,"endColumn":53,"fix":{"range":[19312,19332],"text":"{setOpenMonth(false);}"}},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: \"isDark ? '#2d2d2d' : '#fff'\" }","line":573,"column":42,"nodeType":"ObjectExpression","endLine":573,"endColumn":90},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"balance < 0 ? '#ef4444' : '#10b981'\" }","line":578,"column":55,"nodeType":"ObjectExpression","endLine":578,"endColumn":101},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: \"isDark ? '#2d2d2d' : '#fff'\" }","line":584,"column":42,"nodeType":"ObjectExpression","endLine":584,"endColumn":90},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: \"isDark ? '#2d2d2d' : '#fff'\" }","line":602,"column":63,"nodeType":"ObjectExpression","endLine":602,"endColumn":111},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: \"isDark ? '#2d2d2d' : '#fff'\" }","line":609,"column":63,"nodeType":"ObjectExpression","endLine":609,"endColumn":111}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":25,"fixableErrorCount":0,"fixableWarningCount":17,"source":"import React, { useState, useEffect, useRef, useContext, useMemo } from \"react\";\nimport { View, Text, StyleSheet, TouchableOpacity, ScrollView, Modal, Animated } from \"react-native\";\nimport { useNavigation, useFocusEffect } from \"@react-navigation/native\";\nimport Icon from 'react-native-vector-icons/MaterialIcons';\nimport DropDownPicker from 'react-native-dropdown-picker';\nimport { useAuth } from '../AuthContext';\nimport { ThemeContext } from '../context/ThemeContext';\nimport LoaderSpinner from \"../LoaderSpinner\";\nimport LinearGradient from 'react-native-linear-gradient';\nimport ThemedView from \"../components/ThemedView\";\nimport ThemedText from \"../components/ThemedText\";\nimport { getExpenseCosts, getIncomeSources, getSavingsDataByMonthYear } from \"../services/apiService\";\nimport SplashScreen from '../SplashScreen';\n\nconst withAlpha = (hex, alpha) => {\n  if (!hex || typeof hex !== 'string') return hex;\n  const normalized = hex.trim();\n  if (!normalized.startsWith('#')) return normalized;\n  if (normalized.length === 9) return normalized;\n  if (normalized.length !== 7) return normalized;\n  const alphaHex = Math.round(Math.min(Math.max(alpha, 0), 1) * 255)\n    .toString(16)\n    .padStart(2, '0');\n  return `${normalized}${alphaHex}`;\n};\n\nconst AnimatedStatCard = ({ gradient, bgGradient, icon, label, value, onPress, delay, labelColor = '#ffffff', valueColor = '#ffffff', iconGlow = 'rgba(255, 255, 255, 0.28)' }) => {\n  const translateY = useRef(new Animated.Value(30)).current;\n  const opacityAnim = useRef(new Animated.Value(0)).current;\n  const scaleAnim = useRef(new Animated.Value(0.95)).current;\n\n  useEffect(() => {\n    Animated.parallel([\n      Animated.timing(translateY, {\n        toValue: 0,\n        duration: 800,\n        delay,\n        useNativeDriver: true,\n      }),\n      Animated.timing(opacityAnim, {\n        toValue: 1,\n        duration: 800,\n        delay,\n        useNativeDriver: true,\n      }),\n      Animated.timing(scaleAnim, {\n        toValue: 1,\n        duration: 800,\n        delay,\n        useNativeDriver: true,\n      }),\n    ]).start(({ finished }) => {\n      if (finished) {\n        Animated.loop(\n          Animated.sequence([\n            Animated.timing(scaleAnim, {\n              toValue: 1.02,\n              duration: 1500,\n              useNativeDriver: true,\n            }),\n            Animated.timing(scaleAnim, {\n              toValue: 1,\n              duration: 1500,\n              useNativeDriver: true,\n            }),\n          ])\n        ).start();\n      }\n    });\n  }, [delay, scaleAnim]);\n\n  return (\n    <Animated.View\n      style={[\n        styles.statCard,\n        {\n          transform: [{ translateY }, { scale: scaleAnim }],\n          opacity: opacityAnim,\n        },\n      ]}\n    >\n      <TouchableOpacity onPress={onPress} activeOpacity={0.7} style={{ flex: 1 }}>\n        <LinearGradient colors={bgGradient} start={{ x: 0, y: 0 }} end={{ x: 1, y: 1 }} style={styles.cardBackground}>\n          <View style={styles.cardContent}>\n            <View style={styles.iconBadgeContainer}>\n              <LinearGradient colors={gradient} start={{ x: 0, y: 0 }} end={{ x: 1, y: 1 }} style={[styles.iconBadge, { shadowColor: iconGlow }] }>\n                <Icon name={icon} size={24} color=\"#fff\" />\n              </LinearGradient>\n              <Text style={[styles.cardLabel, { color: labelColor }]}>{label}</Text>\n            </View>\n\n            <View style={styles.textContent}>\n              <Text style={[styles.cardValue, { color: valueColor }]} numberOfLines={2}>{value}</Text>\n            </View>\n          </View>\n        </LinearGradient>\n      </TouchableOpacity>\n    </Animated.View>\n  );\n};\n\nconst Dashboard = () => {\n  const { id, setInitialDataLoaded, initialDataLoaded } = useAuth();\n  const { theme } = useContext(ThemeContext);\n  const initialLoadDone = useRef(false);\n  const [openMonth, setOpenMonth] = useState(false);\n  const [Month, setSelectedMonth] = useState((new Date().getMonth() + 1).toString());\n  const [showDropdowns, setShowDropdowns] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [months, setMonths] = useState([\n    { label: 'January', value: '1' },\n    { label: 'February', value: '2' },\n    { label: 'March', value: '3' },\n    { label: 'April', value: '4' },\n    { label: 'May', value: '5' },\n    { label: 'June', value: '6' },\n    { label: 'July', value: '7' },\n    { label: 'August', value: '8' },\n    { label: 'September', value: '9' },\n    { label: 'October', value: '10' },\n    { label: 'November', value: '11' },\n    { label: 'December', value: '12' },\n  ]);\n\n  const [openYear, setOpenYear] = useState(false);\n  const [Year, setSelectedYear] = useState(new Date().getFullYear().toString());\n  const [years, setYears] = useState([\n    { label: '2024', value: '2024' },\n    { label: '2025', value: '2025' },\n    { label: '2026', value: '2026' },\n  ]);\n\n  const [expenseData, setExpenseData] = useState([]);\n  const [incomeData, setIncomeData] = useState([]);\n  const [savings, setSavings] = useState([]);\n  const [taxAmount, setTaxAmount] = useState(0);\n  const navigation = useNavigation();\n\n  // Function to fetch expense data\n  const getExpenses = async () => {\n    try {\n      const data = await getExpenseCosts(id);\n      return data;\n    } catch (error) {\n      console.error('Error fetching expenses:', error);\n      return [];\n    }\n  };\n\n  // Function to fetch income data\n  const getIncome = async () => {\n    try {\n      const data = await getIncomeSources(id, Month, Year);\n      return Array.isArray(data) ? data : [];\n    } catch (error) {\n      console.error('Error fetching income:', error);\n      return [];\n    }\n  };\n\n  // Function to calculate tax amount\n  const calculateTaxAmount = (expenses) => {\n    return expenses.reduce((acc, curr) => {\n      const taxAmount = parseFloat(curr.tax_amount) || 0;\n      return acc + taxAmount;\n    }, 0);\n  };\n\n  // Replace the existing useEffect with useFocusEffect\n  useFocusEffect(\n    React.useCallback(() => {\n      const loadDashboardData = async () => {\n        setLoading(true);\n        try {\n          // Fetch all data in parallel\n          const [expenseResult, incomeResult] = await Promise.all([\n            getExpenses(),\n            getIncome(),\n            fetchSavingsData(),\n            setShowDropdowns(false)\n          ]);\n\n          // Store all expense data\n          setExpenseData(expenseResult);\n\n          // Filter expenses for current month and year\n          const filteredExpenses = expenseResult.filter(\n            (expense) => expense.month.toString() === Month &&\n              expense.year.toString() === Year\n          );\n\n          // Update states\n          setIncomeData(incomeResult);\n          setTaxAmount(calculateTaxAmount(filteredExpenses));\n\n          // Mark initial load as done\n          if (!initialLoadDone.current) {\n            initialLoadDone.current = true;\n            setInitialDataLoaded(true);\n          }\n\n        } catch (error) {\n          console.error('Error loading dashboard data:', error);\n          // Mark initial load as done even on error to allow user to see the dashboard\n          if (!initialLoadDone.current) {\n            initialLoadDone.current = true;\n            setInitialDataLoaded(true);\n          }\n        } finally {\n          setLoading(false);\n        }\n      };\n\n      loadDashboardData();\n    }, [id, Month, Year, setInitialDataLoaded])\n  );\n\n  // useEffect(()=>{\n  //     fetchSavingsData();\n  //     console.log(\"fetching savings data\");\n  // },[id,Month, Year])\n\n  const fetchSavingsData = async () => {\n        setLoading(true)\n        const data = await getSavingsDataByMonthYear(id,Month, Year);\n        console.log(\"monthwisedata\",data);\n        setSavings(data || []);\n        setLoading(false);\n  }\n  const filteredExpenses = useMemo(\n    () =>\n      expenseData.filter(\n        (expense) =>\n          expense?.month?.toString() === Month && expense?.year?.toString() === Year\n      ),\n    [expenseData, Month, Year]\n  );\n  const totalExpenses = filteredExpenses.reduce((acc, curr) => acc + (parseFloat(curr.cost) || 0), 0);\n  const totalIncome = incomeData.reduce((acc, curr) => acc + (parseFloat(curr.amount) || 0), 0);\n\n\n\n  const handleMonthSelect = (value) => {\n    setSelectedMonth(value);\n    if (Year) {\n      setShowDropdowns(false);\n    }\n  };\n\n  const handleYearSelect = (value) => {\n    setSelectedYear(value);\n    if (Month) {\n      setShowDropdowns(false);\n    }\n  };\n\n  const handlePressExpence = () => {\n    navigation.navigate('ExpensesList', { id, Month, Year });\n  };\n\n  const handlePressIncome = () => {\n    navigation.navigate('IncomeList', { id, Month, Year });\n  };\n\n  const handlePressBalance = () => {\n    navigation.navigate('BalanceList');\n  };\n\n  const handlePressSavings = () => {\n    navigation.navigate('SavingsList');\n  };\n\n  const handlePressTax = () => {\n    const expensesWithTax = expenseData.filter((item) => parseFloat(item.tax_amount) > 0);\n    if (expensesWithTax.length > 0) {\n      navigation.navigate('TaxAmountList', { expensesWithTax });\n    }\n  };\n\n  const handlePressExpenceByCat = () => {\n    navigation.navigate('ExpenseByCategoryList');\n  };\n\n  const totalSavings = savings.reduce((acc, curr) => acc + parseFloat(curr.amount), 0);\n  const balance = totalIncome - (totalExpenses + totalSavings);\n\n  const isDark = theme === 'dark';\n  const palette = useMemo(\n    () =>\n      isDark\n        ? {\n            headerAccent: '#38bdf8',\n            searchBackground: 'rgba(148, 163, 184, 0.16)',\n            cardBorder: 'rgba(148, 163, 184, 0.16)',\n            textPrimary: '#e2e8f0',\n            textSecondary: '#94a3b8',\n            summaryGradients: [\n              ['#f97316', '#fb7185'],\n              ['#22d3ee', '#0284c7'],\n              ['#34d399', '#059669'],\n              ['#a855f7', '#6366f1'],\n            ],\n            summaryText: '#f8fafc',\n          }\n        : {\n            headerAccent: '#1d4ed8',\n            searchBackground: 'rgba(255, 255, 255, 0.95)',\n            cardBorder: 'rgba(15, 23, 42, 0.08)',\n            textPrimary: '#0f172a',\n            textSecondary: '#475569',\n            summaryGradients: [\n              ['#f97316', '#fb923c'],\n              ['#0ea5e9', '#38bdf8'],\n              ['#22c55e', '#4ade80'],\n              ['#6366f1', '#8b5cf6'],\n            ],\n            summaryText: '#ffffff',\n          },\n    [isDark]\n  );\n\n  const summaryMetrics = useMemo(() => {\n    const totalCost = filteredExpenses.reduce((sum, item) => sum + (parseFloat(item.cost) || 0), 0);\n    const totalTax = filteredExpenses.reduce((sum, item) => sum + (parseFloat(item.tax_amount) || 0), 0);\n    const count = filteredExpenses.length;\n    const uniqueCategories = new Set(filteredExpenses.map((item) => item.category || 'Uncategorized')).size;\n    const average = count ? totalCost / count : 0;\n    return { totalCost, totalTax, count, uniqueCategories, average };\n  }, [filteredExpenses]);\n\n  const summaryCards = useMemo(\n    () => [\n      {\n        label: 'Total Spent',\n        value: `₹${summaryMetrics.totalCost.toLocaleString('en-IN')}`,\n        description: 'Across all transactions',\n        icon: 'account-balance-wallet',\n        gradient: palette.summaryGradients[0],\n      },\n      {\n        label: 'Avg Transaction',\n        value: `₹${Math.round(summaryMetrics.average).toLocaleString('en-IN')}`,\n        description: `${summaryMetrics.count} transactions`,\n        icon: 'insights',\n        gradient: palette.summaryGradients[1],\n      },\n      {\n        label: 'Categories',\n        value: `${summaryMetrics.uniqueCategories}`,\n        description: 'Unique spending areas',\n        icon: 'view-module',\n        gradient: palette.summaryGradients[2],\n      },\n      {\n        label: 'Tax Paid',\n        value: `₹${summaryMetrics.totalTax.toLocaleString('en-IN')}`,\n        description: 'Including applied taxes',\n        icon: 'receipt-long',\n        gradient: palette.summaryGradients[3],\n      },\n    ],\n    [summaryMetrics, palette]\n  );\n\n  const statCardConfigs = useMemo(() => {\n    const combos = palette.summaryGradients;\n    const backgroundGradients = combos.map((colors) => [\n      withAlpha(colors[0], isDark ? 0.65 : 0.4),\n      withAlpha(colors[1], isDark ? 0.55 : 0.32),\n    ]);\n    const iconGradients = combos.map((colors) => [\n      withAlpha(colors[0], 0.95),\n      withAlpha(colors[1], 0.85),\n    ]);\n    const summaryColor = palette.summaryText;\n    return [\n      {\n        key: 'income',\n        gradient: iconGradients[1],\n        bgGradient: backgroundGradients[1],\n        icon: 'trending-up',\n        label: 'Income',\n        value: `₹${totalIncome.toLocaleString('en-IN')}`,\n        onPress: handlePressIncome,\n        delay: 100,\n        labelColor: summaryColor,\n        valueColor: summaryColor,\n        iconGlow: withAlpha(combos[1][1], 0.35),\n      },\n      {\n        key: 'expenses',\n        gradient: iconGradients[0],\n        bgGradient: backgroundGradients[0],\n        icon: 'trending-down',\n        label: 'Expenses',\n        value: `₹${totalExpenses.toLocaleString('en-IN')}`,\n        onPress: handlePressExpence,\n        delay: 200,\n        labelColor: summaryColor,\n        valueColor: summaryColor,\n        iconGlow: withAlpha(combos[0][1], 0.35),\n      },\n      {\n        key: 'savings',\n        gradient: iconGradients[2],\n        bgGradient: backgroundGradients[2],\n        icon: 'savings',\n        label: 'Savings',\n        value: `₹${totalSavings.toLocaleString('en-IN')}`,\n        onPress: handlePressSavings,\n        delay: 300,\n        labelColor: summaryColor,\n        valueColor: summaryColor,\n        iconGlow: withAlpha(combos[2][1], 0.35),\n      },\n    ];\n  }, [isDark, palette.summaryGradients, palette.summaryText, totalIncome, totalExpenses, totalSavings, handlePressIncome, handlePressExpence, handlePressSavings]);\n\n  const summaryAnimations = useRef(summaryCards.map(() => new Animated.Value(0))).current;\n\n  useEffect(() => {\n    summaryAnimations.forEach((anim) => anim.setValue(0));\n    Animated.stagger(\n      120,\n      summaryAnimations.map((anim) =>\n        Animated.timing(anim, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: true,\n        })\n      )\n    ).start();\n  }, [summaryAnimations, summaryMetrics, theme]);\n\n  const headerGradient = isDark\n    ? ['#252525ff', '#67696bff']\n    : ['#667eea', '#764ba2'];\n\n  const renderSummarySection = () => (\n    <View style={styles.summaryGrid}>\n      {summaryCards.map((card, index) => {\n        const animation = summaryAnimations[index];\n        const animatedStyle = {\n          opacity: animation,\n          transform: [\n            {\n              translateY: animation.interpolate({\n                inputRange: [0, 1],\n                outputRange: [20, 0],\n              }),\n            },\n            {\n              scale: animation.interpolate({\n                inputRange: [0, 1],\n                outputRange: [0.96, 1],\n              }),\n            },\n          ],\n        };\n\n        return (\n          <Animated.View key={card.label} style={[styles.summaryCardWrapper, animatedStyle]}>\n            <LinearGradient colors={card.gradient} style={styles.summaryCard}>\n              <View style={styles.summaryCardContent}>\n                <View style={[styles.summaryIconContainer, { backgroundColor: `${palette.summaryText}22` }]}>\n                  <Icon name={card.icon} size={20} color={palette.summaryText} />\n                </View>\n                <View style={styles.summaryTextGroup}>\n                  <ThemedText style={[styles.summaryLabel, { color: palette.summaryText }]}>\n                    {card.label}\n                  </ThemedText>\n                  <ThemedText style={[styles.summaryValue, { color: palette.summaryText }]}>\n                    {card.value}\n                  </ThemedText>\n                  <ThemedText style={[styles.summaryDescription, { color: palette.summaryText }]}>\n                    {card.description}\n                  </ThemedText>\n                </View>\n              </View>\n            </LinearGradient>\n          </Animated.View>\n        );\n      })}\n    </View>\n  );\n\n  const renderInsightsHeader = () => (\n    <ThemedView\n      style={[\n        styles.reportHeader,\n        { borderColor: palette.cardBorder, backgroundColor: palette.searchBackground },\n      ]}\n    >\n      <View style={styles.reportHeaderRow}>\n        <View>\n          <ThemedText style={[styles.reportTitle, { color: palette.textPrimary }]}>Monthly Insights</ThemedText>\n          <ThemedText style={[styles.reportSubtitle, { color: palette.textSecondary }]}>\n            {summaryMetrics.count} transactions · {summaryMetrics.uniqueCategories} categories\n          </ThemedText>\n        </View>\n        <View style={[styles.reportHeaderIcon, { backgroundColor: `${palette.headerAccent}33` }] }>\n          <Icon name=\"leaderboard\" size={24} color={palette.headerAccent} />\n        </View>\n      </View>\n    </ThemedView>\n  );\n\n  return (\n    <ThemedView style={styles.mainContainer}>\n      {!initialDataLoaded && (\n        <Modal visible={true} transparent={false} animationType=\"none\">\n          <SplashScreen />\n        </Modal>\n      )}\n      <ScrollView style={[styles.scrollView, { backgroundColor: isDark ? '#1a1a1a' : '#f8f9fa' }]} showsVerticalScrollIndicator={false}>\n        <LoaderSpinner shouldLoad={loading && initialDataLoaded} />\n\n        {/* Header Section */}\n        <LinearGradient colors={headerGradient} start={{ x: 0, y: 0 }} end={{ x: 1, y: 1 }} style={styles.headerSection}>\n          <View style={styles.headerTop}>\n            <View>\n              <ThemedText style={styles.greeting}>Financial Dashboard</ThemedText>\n              <ThemedText style={styles.subGreeting}>Manage your finances effortlessly</ThemedText>\n            </View>\n            <Icon name=\"account-balance-wallet\" size={40} color=\"#FFF\" />\n          </View>\n\n          {!showDropdowns ? (\n            <TouchableOpacity style={styles.dateSelector} onPress={() => setShowDropdowns(true)}>\n              <Icon name=\"calendar-today\" size={20} color=\"#FFF\" />\n              <ThemedText style={styles.dateText}>\n                {months.find((m) => m.value === Month)?.label} {Year}\n              </ThemedText>\n              <Icon name=\"expand-more\" size={20} color=\"#FFF\" />\n            </TouchableOpacity>\n          ) : (\n            <View style={styles.dropdownsContainer}>\n              <View style={styles.dropdownBox}>\n                <DropDownPicker open={openMonth} value={Month} items={months} setValue={handleMonthSelect} setItems={setMonths}\n                  placeholder=\"Month\" style={styles.picker} dropDownContainerStyle={styles.dropdownList}\n                  listMode=\"SCROLLVIEW\" setOpen={(isOpen) => {\n                    setOpenMonth(isOpen);\n                    if (isOpen) setOpenYear(false);\n                  }}\n                />\n              </View>\n              <View style={styles.dropdownBox}>\n                <DropDownPicker open={openYear} value={Year} items={years} setValue={handleYearSelect} setItems={setYears} placeholder=\"Year\" style={styles.picker} dropDownContainerStyle={styles.dropdownList}\n                  listMode=\"SCROLLVIEW\" setOpen={(isOpen) => {\n                    setOpenYear(isOpen);\n                    if (isOpen) setOpenMonth(false);\n                  }}\n                />\n              </View>\n            </View>\n          )}\n        </LinearGradient>\n\n        {/* Main Stats Section */}\n        <View style={styles.statsContainer}>\n          {statCardConfigs.map(({ key, ...cardProps }) => (\n            <AnimatedStatCard key={key} {...cardProps} />\n          ))}\n        </View>\n\n        <View style={styles.summarySectionContainer}>\n          {renderSummarySection()}\n          {renderInsightsHeader()}\n        </View>\n\n        {/* Balance and Tax Card */}\n        <View style={styles.infoCardsContainer}>\n          <View style={[styles.infoCard, { backgroundColor: isDark ? '#2d2d2d' : '#fff' }]}>\n            <View style={styles.infoCardHeader}>\n              <Icon name=\"account-balance\" size={28} color={isDark ? '#667eea' : '#667eea'} />\n              <ThemedText style={styles.infoCardTitle}>Balance</ThemedText>\n            </View>\n            <ThemedText style={[styles.infoCardValue, { color: balance < 0 ? '#ef4444' : '#10b981' }]}>\n              ₹{Math.abs(balance).toLocaleString('en-IN')}\n            </ThemedText>\n            {/* {balance < 0 && <ThemedText style={styles.infoCardSubtext}>Deficit</ThemedText>} */}\n          </View>\n\n          <View style={[styles.infoCard, { backgroundColor: isDark ? '#2d2d2d' : '#fff' }]}>\n            <View style={styles.infoCardHeader}>\n              <Icon name=\"receipt-long\" size={28} color={isDark ? '#f59e0b' : '#f59e0b'} />\n              <ThemedText style={styles.infoCardTitle}>Tax</ThemedText>\n            </View>\n            <ThemedText style={styles.infoCardValue}>₹{taxAmount.toLocaleString('en-IN')}</ThemedText>\n            {taxAmount > 0 && (\n              <TouchableOpacity onPress={handlePressTax} style={styles.viewButton}>\n                <ThemedText style={styles.viewButtonText}>View Details</ThemedText>\n              </TouchableOpacity>\n            )}\n          </View>\n        </View>\n\n        {/* Quick Actions */}\n        <View style={styles.quickActionsContainer}>\n          <ThemedText style={styles.sectionTitle}>Quick Actions</ThemedText>\n          <View style={styles.actionsGrid}>\n            <TouchableOpacity style={[styles.quickActionCard, { backgroundColor: isDark ? '#2d2d2d' : '#fff' }]} onPress={handlePressExpenceByCat}>\n              <LinearGradient colors={['#8b5cf6', '#7c3aed']} style={styles.actionIconBg}>\n                <Icon name=\"pie-chart\" size={24} color=\"#fff\" />\n              </LinearGradient>\n              <ThemedText style={styles.actionCardText}>Expenses by Category</ThemedText>\n            </TouchableOpacity>\n\n            <TouchableOpacity style={[styles.quickActionCard, { backgroundColor: isDark ? '#2d2d2d' : '#fff' }]} onPress={handlePressBalance}>\n              <LinearGradient colors={['#06b6d4', '#0891b2']} style={styles.actionIconBg}>\n                <Icon name=\"assessment\" size={24} color=\"#fff\" />\n              </LinearGradient>\n              <ThemedText style={styles.actionCardText}>Balance Details</ThemedText>\n            </TouchableOpacity>\n          </View>\n        </View>\n\n        <View style={styles.bottomPadding} />\n      </ScrollView>\n    </ThemedView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  headerSection: {\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 28,\n  },\n  headerTop: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    marginBottom: 20,\n  },\n  greeting: {\n    fontSize: 28,\n    fontWeight: '700',\n    color: '#FFF',\n    marginBottom: 4,\n  },\n  subGreeting: {\n    fontSize: 14,\n    color: 'rgba(255, 255, 255, 0.8)',\n    fontWeight: '500',\n  },\n  dateSelector: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: 'rgba(255, 255, 255, 0.15)',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderRadius: 12,\n    gap: 10,\n  },\n  dateText: {\n    color: '#FFF',\n    fontSize: 16,\n    fontWeight: '600',\n    flex: 1,\n  },\n  dropdownsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    gap: 12,\n  },\n  dropdownBox: {\n    flex: 1,\n    zIndex: 1000,\n  },\n  picker: {\n    borderWidth: 0,\n    borderRadius: 10,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n  },\n  dropdownList: {\n    borderWidth: 0,\n    borderRadius: 10,\n    maxHeight: 600,\n  },\n  statsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n    paddingHorizontal: 12,\n    paddingVertical: 18,\n    gap: 12,\n  },\n  statCard: {\n    flexGrow: 1,\n    flexBasis: '31%',\n    maxWidth: '32%',\n    minWidth: 110,\n    borderRadius: 20,\n    overflow: 'hidden',\n    elevation: 8,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 4 },\n    shadowOpacity: 0.12,\n    shadowRadius: 8,\n    minHeight: 120,\n  },\n  cardBackground: {\n    flex: 1,\n    borderRadius: 20,\n  },\n  cardContent: {\n    flex: 1,\n    paddingHorizontal: 16,\n    paddingVertical: 18,\n    alignItems: 'flex-start',\n  },\n  iconBadgeContainer: {\n    position: 'relative',\n    width: '100%',\n    marginBottom: 12,\n    display: 'flex',\n  },\n  iconBadge: {\n    width: 30,\n    height: 30,\n    borderRadius: 16,\n    justifyContent: 'center',\n    alignItems: 'center',\n    elevation: 6,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 3 },\n    shadowOpacity: 0.15,\n    shadowRadius: 6,\n  },\n  badgeDecoration: {\n    position: 'absolute',\n    top: -4,\n    right: -4,\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    backgroundColor: 'rgba(255, 255, 255, 0.4)',\n    opacity: 0.6,\n  },\n  textContent: {\n    width: '100%',\n    marginBottom: 8,\n  },\n  cardLabel: {\n    fontSize: 18,\n    fontWeight: '700',\n    color: '#64748b',\n  },\n  cardValue: {\n    fontSize: 18,\n    fontWeight: '800',\n    color: '#1e293b',\n    lineHeight: 18,\n  },\n  cardFooter: {\n    alignSelf: 'flex-end',\n  },\n  arrowBadge: {\n    width: 36,\n    height: 36,\n    borderRadius: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  infoCardsContainer: {\n    paddingHorizontal: 16,\n    marginBottom: 24,\n    gap: 14,\n    flexDirection: 'row',\n  },\n  infoCard: {\n    flex: 1,\n    borderRadius: 14,\n    padding: 18,\n    elevation: 3,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.08,\n    shadowRadius: 4,\n  },\n  infoCardHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n    marginBottom: 12,\n  },\n  infoCardTitle: {\n    fontSize: 14,\n    fontWeight: '600',\n    opacity: 0.8,\n  },\n  infoCardValue: {\n    fontSize: 22,\n    fontWeight: '700',\n    marginBottom: 6,\n  },\n  infoCardSubtext: {\n    fontSize: 12,\n    opacity: 0.6,\n    fontWeight: '500',\n  },\n  viewButton: {\n    marginTop: 8,\n    paddingVertical: 6,\n    paddingHorizontal: 10,\n    backgroundColor: 'rgba(102, 126, 234, 0.1)',\n    borderRadius: 6,\n  },\n  viewButtonText: {\n    fontSize: 12,\n    fontWeight: '600',\n    color: '#667eea',\n  },\n  quickActionsContainer: {\n    paddingHorizontal: 16,\n    marginBottom: 20,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '700',\n    marginBottom: 14,\n  },\n  actionsGrid: {\n    flexDirection: 'row',\n    gap: 14,\n  },\n  quickActionCard: {\n    flex: 1,\n    borderRadius: 14,\n    padding: 16,\n    alignItems: 'center',\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.06,\n    shadowRadius: 3,\n  },\n  actionIconBg: {\n    width: 56,\n    height: 56,\n    borderRadius: 12,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  actionCardText: {\n    fontSize: 13,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n  summarySectionContainer: {\n    paddingHorizontal: 16,\n    marginTop: 12,\n    marginBottom: 24,\n  },\n  summaryGrid: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n  },\n  summaryCardWrapper: {\n    width: '48%',\n    marginBottom: 16,\n  },\n  summaryCard: {\n    borderRadius: 20,\n    padding: 18,\n  },\n  summaryCardContent: {\n    flexDirection: 'column',\n  },\n  summaryIconContainer: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(255, 255, 255, 0.18)',\n    marginBottom: 14,\n  },\n  summaryTextGroup: {},\n  summaryLabel: {\n    fontSize: 13,\n    fontWeight: '600',\n    letterSpacing: 0.3,\n  },\n  summaryValue: {\n    fontSize: 22,\n    fontWeight: '700',\n    marginTop: 4,\n  },\n  summaryDescription: {\n    fontSize: 11,\n    marginTop: 6,\n    opacity: 0.85,\n  },\n  reportHeader: {\n    marginTop: 8,\n    borderWidth: 1,\n    borderRadius: 20,\n    padding: 16,\n  },\n  reportHeaderRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  reportTitle: {\n    fontSize: 18,\n    fontWeight: '700',\n  },\n  reportSubtitle: {\n    fontSize: 13,\n    marginTop: 4,\n  },\n  reportHeaderIcon: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bottomPadding: {\n    height: 20,\n  },\n});\n\nexport default Dashboard;\n","usedDeprecatedRules":[{"ruleId":"comma-dangle","replacedBy":[]},{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-floating-decimal","replacedBy":[]},{"ruleId":"semi-spacing","replacedBy":[]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"jsx-quotes","replacedBy":[]},{"ruleId":"eol-last","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"func-call-spacing","replacedBy":[]},{"ruleId":"no-trailing-spaces","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]},{"ruleId":"quotes","replacedBy":[]},{"ruleId":"semi","replacedBy":[]},{"ruleId":"space-infix-ops","replacedBy":[]},{"ruleId":"space-unary-ops","replacedBy":[]}]}]